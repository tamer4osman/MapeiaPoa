var Incident=function(t){t=t||{},this.description=m.prop(t.description),this.latitude=m.prop(t.latitude),this.longitude=m.prop(t.longitude),this.type=m.prop(t.type)};Incident.list=function(t){return m.request({method:"GET",url:"/mapeia-poa-0.1.0/incident",type:Incident})},Incident.save=function(t){return m.request({method:"POST",url:"/mapeia-poa-0.1.0/incident",data:t})};var IncidentForm={controller:function(){this.incident=m.prop(new Incident),this.save=function(t){Incident.save(t)}},view:function(t){var n=t.incident();return m("form",[m("label","Description"),m("input",{oninput:m.withAttr("value",n.description),value:n.description()}),m("label","Latitude"),m("input",{oninput:m.withAttr("value",n.latitude),value:n.latitude()}),m("label","Longitude"),m("input",{oninput:m.withAttr("value",n.longitude),value:n.longitude()}),m("label","Type"),m("input",{oninput:m.withAttr("value",n.type),value:n.type()}),m("button[type=button]",{onclick:t.save.bind(this,n)},"Save")])}},IncidentList={controller:function(){this.incidents=Incident.list()},view:function(t){return m("table",[t.incidents().map(function(t){return m("tr",[m("td",t.description()),m("td",t.latitude()),m("td",t.longitude()),m("td",t.type())])})])}},IncidentWidget={view:function(t){return[m.component(IncidentForm,{onsave:t.save}),m.component(IncidentList,{incidents:t.incidents})]}};m.mount(document.body,IncidentWidget);